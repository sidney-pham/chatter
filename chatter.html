<head>
    <title>Chatter</title>
</head>

<template name="main">
    {{> yield}}
    <hr>
    <p>Sidney Pham</p>
</template>

<template name="home">
    {{#if currentUser}}
        {{> app}}    
    {{else}}
        {{> notLoggedIn}}
    {{/if}}

</template>

<template name="app">
    <h1>LOGGED IN YO!</h1>
    <a href="#" class="logout">Logout</a>

    <ul>
        <li>Name: {{user.profile.fullName}}</li>
        <li>Email: {{user.emails.[0].address}}</li>
    </ul>

    {{> addFriends}}

    {{> chatWindow}}
</template>

<template name="addFriends">
    {{#if friendsToAdd}}
        <h2>Here are some friends to add:</h2>
        <ul>
            {{#each friendsToAdd}}
                <li>
                    <label>
                        <input type="checkbox" class="addFriendCheckbox">
                        {{profile.fullName}}
                    </label>
                </li>
            {{/each}}
        </ul>
    {{/if}}
</template>

<template name="chatWindow">
    <div class="friendsList">
        {{#if friends}}
            <h2>Here are your friends: </h2>
            <ul>
                {{#each friends}}
                    <li>
                        <a href="#" class="friend">{{profile.fullName}}</a>
                        <a href="#" class="removeFriend">[-]</a>
                    </li> 
                {{/each}} 
            </ul>
        {{/if}}
    </div>
    <div class="chatHeader">
        <h2>Bob</h2>
    </div>
    <div class="chatMessages">
        <ul>
            <li>
                <h5>Bob said:</h5>
                <p>Hey there!</p>
            </li>
            <li>
                <h5>You said:</h5>
                <p>Hey Bob!</p>
            </li>
        </ul>
    </div>
    <div class="chatBottom">
        <input type="text" placeholder="Type a message:" name="message">
    </div>
</template>

<template name="notLoggedIn">
    <h1>Chatter!</h1>
    <p>Chat with all your friends!</p>

    {{#if showRegister}}
        {{> register}}
    {{else}} 
        {{#if showLogin}}
            {{> login}}
        {{else}}
                <button class="register">Register</button>
                <button class="login">Login</button>
        {{/if}}
    {{/if}} 
</template>

<template name="register">
    <h2>Register</h2>

    <form class="register">
            <ul>
                <li>
                    <label>
                        First Name: 
                        <input type="text" name="firstName" required>
                    </label>
                </li>
                <li>
                    <label>
                        Last Name: 
                        <input type="text" name="lastName" required>
                    </label>
                </li>
                <li>
                    <label>
                        Email: 
                        <input type="email" name="email" required>
                    </label>
                </li>
                <li>
                    <label>
                        Password: 
                        <input type="password" name="password" required>
                    </label>
                </li>
                <li>
                    <input type="submit" value="Register">
                </li>
            </ul>   
        </form>

    <button class="back">Back</button>
</template>

<template name="login">
    <h2>Login</h2>

    <form class="login">
            <ul>
                <li>
                    <label>
                        Email: 
                        <input type="email" name="email" required>
                    </label>
                </li>
                <li>
                    <label>
                        Password: 
                        <input type="password" name="password" required>
                    </label>
                </li>
                <li>
                    <input type="submit" value="Login">
                </li>
            </ul>   
        </form>

    <button class="back">Back</button>
</template>